{"version":3,"sources":["services/persons.js","components/persons.js","components/filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deletePerson","delete","Button","text","onClick","value","PersonForm","name","nameHandler","number","numberHandler","addPerson","onSubmit","type","placeholder","onChange","event","target","required","Persons","persons","map","person","Filter","state","handler","Notification","message","style","color","backgroundColor","fontSize","border","borderRadius","padding","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","errorMessage","setErrorMessage","useEffect","PersonsData","findIndex","toLocaleLowerCase","preventDefault","personObject","personId","find","undefined","window","confirm","updatedPerson","catch","error","setTimeout","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b8e1f904.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst personService = { getAll, create, update, deletePerson }\r\n\r\nexport default personService;\r\n","import React from \"react\";\r\n\r\nconst Button = ({ text, onClick, value }) => {\r\n  return (\r\n    <>\r\n      <button value={value} onClick={onClick}>{text}</button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const PersonForm = ({\r\n  name,\r\n  nameHandler,\r\n  number,\r\n  numberHandler,\r\n  addPerson,\r\n}) => {\r\n  const handleNameChange = (event) => {\r\n    nameHandler(event.target.value);\r\n  };\r\n  const handleNumberChange = (event) => {\r\n    numberHandler(event.target.value);\r\n  };\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n      <div>\r\n        name:\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter a name\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n          required={true}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter phonenumber\"\r\n          value={number}\r\n          onChange={handleNumberChange}\r\n          required={true}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const Persons = ({ persons, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <table>\r\n          <tbody>\r\n          {persons.map((person) => (\r\n            <tr key={person.id}>\r\n              <td>{person.name}</td>\r\n              <td>{person.number}</td>\r\n              <td><Button value={person.id} onClick={deletePerson} text=\"delete\" /></td>\r\n            </tr>\r\n          ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ state, handler }) => {\r\n    const handleFilterChange = (event) => {\r\n        handler(event.target.value);\r\n      };\r\n  return (\r\n    <div>\r\n      filter shown with {\" \"}\r\n      <input value={state} placeholder='Search a name' onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter","import React from \"react\";\r\n\r\nconst Notification = ({message,state}) => {\r\n    const SuccessStyle = {\r\n        color: 'green',\r\n        backgroundColor: '#EFEFEF',\r\n        fontSize: 21,\r\n        border: '3px solid green',\r\n        borderRadius: 3,\r\n        padding: 5\r\n    }\r\n    const ErrorStyle = {\r\n        color: 'red',\r\n        backgroundColor: '#EFEFEF',\r\n        fontSize: 21,\r\n        border: '3px solid red',\r\n        borderRadius: 3,\r\n        padding: 5\r\n    }\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div>\r\n      <p style={state ? SuccessStyle: ErrorStyle}>{message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\nimport { PersonForm, Persons } from \"./components/persons\";\r\nimport Filter from \"./components/filter\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [filter, setFilter] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState({\r\n    message:null,\r\n    state:false\r\n  });\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((persons) => {\r\n      setPersons(persons);\r\n    });\r\n  }, []);\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    const personId = persons.find(\r\n      (person) => person.name === personObject.name\r\n    );\r\n    if (personId !== undefined) {\r\n      if (\r\n        window.confirm(\r\n          `${personObject.name} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        personService\r\n          .update(personId.id, personObject)\r\n          .then((updatedPerson) => {\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== personId.id ? person : updatedPerson\r\n              )\r\n            );\r\n            setErrorMessage({\r\n              message:`Updated '${personObject.name}'s number to the PhoneBook`,\r\n              state: true\r\n            });\r\n          })\r\n          .catch((error)=>{\r\n            setErrorMessage({\r\n              message:`Information of '${personObject.name}' has already been removed from server`,\r\n              state: false\r\n            });\r\n            setTimeout(() => {\r\n              setErrorMessage({message: null,state: false});\r\n            }, 5000);\r\n          })\r\n      }\r\n    } else {\r\n      personService.create(personObject).then((person) => {\r\n        setPersons(persons.concat(person));\r\n      });\r\n      setErrorMessage({\r\n        message:`Added '${personObject.name}' to the PhoneBook`,\r\n        state: true\r\n      });\r\n      setTimeout(() => {\r\n        setErrorMessage({message: null,state: false});\r\n      }, 5000);\r\n    }\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  const deletePerson = (event) => {\r\n    const personToDelete = persons.find(\r\n      (person) => person.id === event.target.value\r\n    );\r\n    if (window.confirm(`¿Delete ${personToDelete.name}?`)) {\r\n      personService.deletePerson(personToDelete.id).then((person) => {\r\n        personService.getAll().then((persons) => {\r\n          setPersons(persons);\r\n        });\r\n        setErrorMessage({\r\n          message:`Successfully deleted '${personToDelete.name}' from the PhoneBook`,\r\n          state: true\r\n        });\r\n        setTimeout(() => {\r\n          setErrorMessage({message: null,state: false});\r\n        }, 5000);\r\n      })\r\n      .catch(error=>{\r\n        setErrorMessage({\r\n          message:`Information of '${personToDelete.name}' has already been removed from server`,\r\n          state: false\r\n        });\r\n        setTimeout(() => {\r\n          setErrorMessage({message: null,state: false});\r\n        }, 5000);\r\n        personService.getAll().then((persons) => {\r\n          setPersons(persons);\r\n        });\r\n      })\r\n    }\r\n  };\r\n\r\n  const PersonsData =\r\n    persons.findIndex(\r\n      (person) => person.name.toLocaleLowerCase() === filter.toLocaleLowerCase()\r\n    ) >= 0\r\n      ? persons.filter(\r\n          (person) =>\r\n            person.name.toLocaleLowerCase() === filter.toLocaleLowerCase()\r\n        )\r\n      : persons;\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification message={errorMessage.message} state={errorMessage.state} />\r\n      <Filter state={filter} handler={setFilter} />\r\n      <h2>Add a new person</h2>\r\n      <PersonForm\r\n        name={newName}\r\n        nameHandler={setNewName}\r\n        number={newNumber}\r\n        numberHandler={setNewNumber}\r\n        addPerson={addPerson}\r\n      />\r\n      <h3>Numbers</h3>\r\n      <Persons persons={PersonsData} deletePerson={deletePerson} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n\n"],"sourceRoot":""}